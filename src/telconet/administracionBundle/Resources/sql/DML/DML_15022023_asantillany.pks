/**
 * DEBE EJECUTARSE EN DB_SEGURIDAD
 * Nuevo menu para consulta de rutas backbone
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */

INSERT INTO DB_SEGURIDAD.SIST_ITEM_MENU (
  ID_ITEM_MENU,
  ITEM_MENU_ID,
  NOMBRE_ITEM_MENU,
  URL_IMAGEN,
  POSICION,
  HTML,
  ESTADO,
  CODIGO,
  USR_CREACION,
  FE_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD,
  DESCRIPCION_ITEM_MENU,
  TITLE_HTML,
  DESCRIPCION_HTML
) VALUES (
  DB_SEGURIDAD.SEQ_SIST_ITEM_MENU.NEXTVAL,
  (SELECT ID_ITEM_MENU FROM DB_SEGURIDAD.SIST_ITEM_MENU WHERE NOMBRE_ITEM_MENU = 'Tecnico' AND DESCRIPCION_ITEM_MENU = 'Menu Secundario Administracion'),
  'Consulta de rutas backbone',
  NULL,
  NULL,
  NULL,
  'Activo',
  NULL,
  'asantillany',
  SYSDATE,
  NULL,
  NULL,
  'Administracion',
  'Consulta de rutas backbone',
  NULL
);

INSERT INTO DB_SEGURIDAD.SIST_MODULO (
  ID_MODULO,
  NOMBRE_MODULO,
  ESTADO,
  CODIGO,
  USR_CREACION,
  FE_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD
) VALUES (
  DB_SEGURIDAD.SEQ_SIST_MODULO.NEXTVAL,
  'configuracionRutasBackbone',
  'Activo',
  NULL,
  'asantillany',
  SYSDATE,
  NULL,
  NULL
);

INSERT INTO DB_SEGURIDAD.SEGU_RELACION_SISTEMA (
  ID_RELACION_SISTEMA,
  MODULO_ID,
  ACCION_ID,
  ITEM_MENU_ID,
  RELACION_SISTEMA_ID,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION,
  TAREA_INTERFACE_MODELO_TRA_ID
) VALUES (
  DB_SEGURIDAD.SEQ_SEGU_RELACION_SISTEMA.NEXTVAL,
  (SELECT ID_MODULO FROM DB_SEGURIDAD.SIST_MODULO WHERE NOMBRE_MODULO = 'configuracionRutasBackbone' AND ESTADO = 'Activo'),
  (SELECT ID_ACCION FROM DB_SEGURIDAD.SIST_ACCION WHERE NOMBRE_ACCION = 'index' AND ESTADO = 'Activo'),
  (SELECT ID_ITEM_MENU FROM DB_SEGURIDAD.SIST_ITEM_MENU WHERE NOMBRE_ITEM_MENU ='Consulta de rutas backbone' AND ESTADO = 'Activo'),
  NULL,
  'asantillany',
  SYSDATE,
  '127.0.0.1',
  NULL
);

/**
 * DEBE EJECUTARSE EN DB_SEGURIDAD
 * Nuevo perfil para visualizar el menu de consulta de rutas backbone
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */

INSERT INTO DB_SEGURIDAD.SIST_PERFIL (
  ID_PERFIL,
  NOMBRE_PERFIL,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD
) VALUES (
  DB_SEGURIDAD.SEQ_SIST_PERFIL.NEXTVAL,
  'Consulta de rutas backbone',
  'Activo',
  'asantillany',
  SYSDATE,
  NULL,
  NULL
);

INSERT INTO DB_SEGURIDAD.SEGU_ASIGNACION (
  PERFIL_ID,
  RELACION_SISTEMA_ID,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION
) VALUES (
  (SELECT ID_PERFIL FROM DB_SEGURIDAD.SIST_PERFIL WHERE NOMBRE_PERFIL = 'Consulta de rutas backbone'),
  (SELECT ID_RELACION_SISTEMA FROM DB_SEGURIDAD.SEGU_RELACION_SISTEMA WHERE MODULO_ID = (SELECT ID_MODULO FROM DB_SEGURIDAD.SIST_MODULO WHERE NOMBRE_MODULO = 'configuracionRutasBackbone' AND ESTADO = 'Activo') ),
  'asantillany',
  SYSDATE,
  '127.0.0.1'
);

INSERT INTO DB_SEGURIDAD.SEGU_PERFIL_PERSONA (
  PERFIL_ID,
  PERSONA_ID,
  OFICINA_ID,
  EMPRESA_ID,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION
) VALUES(
  (SELECT ID_PERFIL FROM DB_SEGURIDAD.SIST_PERFIL WHERE NOMBRE_PERFIL = 'Consulta de rutas backbone'),
  (SELECT ID_PERSONA FROM DB_COMERCIAL.INFO_PERSONA WHERE LOGIN='asantillany'),
  58,
  '18',
  'asantillany',
  CURRENT_TIMESTAMP,
  '192.168.221.0'
);
/**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Nuevo directorio para archivos de rutas backbone
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */

INSERT INTO DB_GENERAL.ADMI_GESTION_DIRECTORIOS (
  ID_GESTION_DIRECTORIO,
  CODIGO_APP,
  CODIGO_PATH,
  APLICACION,
  PAIS,
  EMPRESA,
  MODULO,
  SUBMODULO,
  ESTADO,
  FE_CREACION,
  USR_CREACION
) VALUES (
  DB_GENERAL.SEQ_ADMI_GESTION_DIRECTORIOS.NEXTVAL,
  4,
  (SELECT MAX(CODIGO_PATH) +1 FROM DB_GENERAL.ADMI_GESTION_DIRECTORIOS), --67
  'TelcosWeb',
  '593',
  'TN',
  'Administracion',
  'ArchivoBackbone',
  'Activo',
  SYSDATE,
  'asantillany'
);

 /**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Nuevos parametros para configuracion de NFS
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */

 INSERT INTO DB_GENERAL.ADMI_PARAMETRO_CAB (
  ID_PARAMETRO,
  NOMBRE_PARAMETRO,
  DESCRIPCION,
  MODULO,
  PROCESO,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_CAB.NEXTVAL,
  'AUTOMATIZACION DE CARGA DE HILOS',
  'PARAMETRO PARA CONFIGURAR LOS VALORES PARA LA INSERCION DE HILOS',
  'ADMINISTRACION',
  'AUTOMATIZACION DE CARGA DE HILOS',
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.0'
);
INSERT INTO DB_GENERAL.ADMI_PARAMETRO_DET (
  ID_PARAMETRO_DET,
  PARAMETRO_ID,
  DESCRIPCION,
  VALOR1,
  VALOR2,
  VALOR3,
  VALOR4,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD,
  IP_ULT_MOD,
  VALOR5,
  EMPRESA_COD,
  VALOR6,
  VALOR7,
  OBSERVACION
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_DET.NEXTVAL,
  ( SELECT ID_PARAMETRO FROM DB_GENERAL.ADMI_PARAMETRO_CAB WHERE NOMBRE_PARAMETRO = 'AUTOMATIZACION DE CARGA DE HILOS' AND MODULO = 'ADMINISTRACION' AND ESTADO = 'Activo' ),
  'CONFIGURACION NFS',
  'configuiracionDeHilo',
  'TelcosWeb',
  'ArchivoBackbone',
  NULL,
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.0',
  NULL,
  NULL,
  NULL,
  NULL,
  '10',
  NULL,
  NULL,
  'Configura los parámetros enviados al NFS donde se almacenarán los archivos de hilos.'
);
INSERT INTO DB_GENERAL.ADMI_PARAMETRO_DET (
  ID_PARAMETRO_DET,
  PARAMETRO_ID,
  DESCRIPCION,
  VALOR1,
  VALOR2,
  VALOR3,
  VALOR4,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD,
  IP_ULT_MOD,
  VALOR5,
  EMPRESA_COD,
  VALOR6,
  VALOR7,
  OBSERVACION
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_DET.NEXTVAL,
  ( SELECT ID_PARAMETRO FROM DB_GENERAL.ADMI_PARAMETRO_CAB WHERE NOMBRE_PARAMETRO = 'AUTOMATIZACION DE CARGA DE HILOS' AND MODULO = 'ADMINISTRACION' AND ESTADO = 'Activo' ),
  'MOTIVO_ARCHIVO_HILOS',
  'CARGA_DE_HILOS',
  '',
  '',
  NULL,
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.0',
  NULL,
  NULL,
  NULL,
  NULL,
  '10',
  NULL,
  NULL,
  'Motivo para el almacenamiento del archivo.'
);
INSERT INTO DB_GENERAL.ADMI_MOTIVO (
  ID_MOTIVO,
  RELACION_SISTEMA_ID,
  NOMBRE_MOTIVO,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD,
  CTA_CONTABLE,
  REF_MOTIVO_ID
) VALUES (
  DB_GENERAL.SEQ_ADMI_MOTIVO.NEXTVAL,
  1,
  'CARGA_DE_HILOS',
  'Activo',
  'asantillany',
  SYSDATE,
  'asantillany',
  SYSDATE,
  NULL,
  NULL
);

 /**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Nuevos parametros para cambio de caracteres especiales en oracle
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */

INSERT INTO DB_GENERAL.ADMI_PARAMETRO_DET (
  ID_PARAMETRO_DET,
  PARAMETRO_ID,
  DESCRIPCION,
  VALOR1,
  VALOR2,
  VALOR3,
  VALOR4,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION,
  EMPRESA_COD
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_DET.NEXTVAL,
  ( SELECT ID_PARAMETRO FROM DB_GENERAL.ADMI_PARAMETRO_CAB WHERE NOMBRE_PARAMETRO = 'FORMATOS_TILDES_BD' AND ESTADO = 'Activo' ),
  'Lista de simbolos para reemplazarlos por tildes',
  'â€“',
  '-',
  NULL,
  NULL,
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.1',
  ( SELECT COD_EMPRESA FROM DB_COMERCIAL.INFO_EMPRESA_GRUPO WHERE PREFIJO = 'TN' )
);

INSERT INTO DB_GENERAL.ADMI_PARAMETRO_DET (
  ID_PARAMETRO_DET,
  PARAMETRO_ID,
  DESCRIPCION,
  VALOR1,
  VALOR2,
  VALOR3,
  VALOR4,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION,
  EMPRESA_COD
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_DET.NEXTVAL,
  ( SELECT ID_PARAMETRO FROM DB_GENERAL.ADMI_PARAMETRO_CAB WHERE NOMBRE_PARAMETRO = 'FORMATOS_TILDES_BD' AND ESTADO = 'Activo' ),
  'Lista de simbolos para reemplazarlos por tildes',
  'N/A',
  '',
  NULL,
  NULL,
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.1',
  ( SELECT COD_EMPRESA FROM DB_COMERCIAL.INFO_EMPRESA_GRUPO WHERE PREFIJO = 'TN' )
);

 /**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Nuevos parametros para tipos de rutas
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */
INSERT INTO DB_GENERAL.ADMI_PARAMETRO_CAB (
  ID_PARAMETRO,
  NOMBRE_PARAMETRO,
  DESCRIPCION,
  MODULO,
  PROCESO,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_CAB.NEXTVAL,
  'TIPO_DE_RUTA',
  'PARAMETRO PARA CONSULTA DE RUTAS',
  'ADMINISTRACION',
  'VISUALIZACION DE HILOS',
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.0'
);
INSERT INTO DB_GENERAL.ADMI_PARAMETRO_DET (
  ID_PARAMETRO_DET,
  PARAMETRO_ID,
  DESCRIPCION,
  VALOR1,
  VALOR2,
  VALOR3,
  VALOR4,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  IP_CREACION,
  EMPRESA_COD
) VALUES (
  DB_GENERAL.SEQ_ADMI_PARAMETRO_DET.NEXTVAL,
  ( SELECT ID_PARAMETRO FROM DB_GENERAL.ADMI_PARAMETRO_CAB WHERE NOMBRE_PARAMETRO = 'TIPO_DE_RUTA' AND ESTADO = 'Activo' ),
  'Listado de rutas disponibles',
  'INTERURBANAS',
  '',
  NULL,
  NULL,
  'Activo',
  'asantillany',
  SYSDATE,
  '127.0.0.1',
  ( SELECT COD_EMPRESA FROM DB_COMERCIAL.INFO_EMPRESA_GRUPO WHERE PREFIJO = 'TN' )
);

 /**
 * DEBE EJECUTARSE EN DB_INFRAESTRUCTURA
 * Nuevos parametros para cambio de caracteres especiales en oracle
 * @author Anthony Santillan <asantillany@telconet.ec>
 * @version 1.0 14-02-2023.
 */
INSERT INTO DB_INFRAESTRUCTURA.ADMI_MODELO_ELEMENTO (
  ID_MODELO_ELEMENTO,
  MARCA_ELEMENTO_ID,
  TIPO_ELEMENTO_ID,
  NOMBRE_MODELO_ELEMENTO,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD
) VALUES(
  DB_INFRAESTRUCTURA.SEQ_ADMI_MODELO_ELEMENTO.NEXTVAL,
 (SELECT ID_MARCA_ELEMENTO FROM DB_INFRAESTRUCTURA.ADMI_MARCA_ELEMENTO  WHERE NOMBRE_MARCA_ELEMENTO = 'GENERICO'),
  (SELECT ID_TIPO_ELEMENTO FROM DB_INFRAESTRUCTURA.ADMI_TIPO_ELEMENTO WHERE NOMBRE_TIPO_ELEMENTO = 'INTERURBANAS'),
  'NODO-ODF-MANGA-ODF-NODO',
  'Activo',
  'asantillany',
  SYSDATE,
  'asantillany',
  SYSDATE
);
INSERT INTO DB_INFRAESTRUCTURA.ADMI_MODELO_ELEMENTO (
  ID_MODELO_ELEMENTO,
  MARCA_ELEMENTO_ID,
  TIPO_ELEMENTO_ID,
  NOMBRE_MODELO_ELEMENTO,
  ESTADO,
  USR_CREACION,
  FE_CREACION,
  USR_ULT_MOD,
  FE_ULT_MOD
) VALUES(
  DB_INFRAESTRUCTURA.SEQ_ADMI_MODELO_ELEMENTO.NEXTVAL,
  (SELECT ID_MARCA_ELEMENTO FROM DB_INFRAESTRUCTURA.ADMI_MARCA_ELEMENTO  WHERE NOMBRE_MARCA_ELEMENTO = 'GENERICO'),
  (SELECT ID_TIPO_ELEMENTO FROM DB_INFRAESTRUCTURA.ADMI_TIPO_ELEMENTO WHERE NOMBRE_TIPO_ELEMENTO = 'INTERURBANAS'),
  'MANGA-MANGA-ODF-NODO',
  'Activo',
  'asantillany',
  SYSDATE,
  'asantillany',
  SYSDATE
);
COMMIT;
/