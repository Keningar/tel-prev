CREATE TABLE DB_COMERCIAL.ADMI_PLANTILLA_HORARIO_CAB (
      ID_PLANTILLA_HORARIO NUMBER NOT NULL,
      EMPRESA_COD          VARCHAR2(2 BYTE) NOT NULL,
      DESCRIPCION          VARCHAR2(30) NOT NULL,
      ES_DEFAULT           VARCHAR2(1),
      FE_CREACION          TIMESTAMP (6) NOT NULL ENABLE,
      USR_CREACION         VARCHAR2(15 BYTE) NOT NULL ENABLE,
      IP_CREACION          VARCHAR2(16 BYTE) NOT NULL ENABLE,
      ESTADO               VARCHAR2(15 BYTE),
      JURISDICCION_ID      NUMBER,
      CONSTRAINT ADMI_PLANTILLA_HORARIO_CAB_PK PRIMARY KEY(ID_PLANTILLA_HORARIO),
      CONSTRAINT ADMI_PLANTILLA_HORARIO_CAB_FK FOREIGN KEY (EMPRESA_COD)
          REFERENCES DB_COMERCIAL.INFO_EMPRESA_GRUPO (COD_EMPRESA)
);

COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."ID_PLANTILLA_HORARIO" IS 'ID DE LA PLANTILLA';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_EMPRESA_NEGOCIO"."EMPRESA_COD" IS 'INDICA LA EMPRESA, FK A LA TABLA ADMI_EMPRESA';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."DESCRIPCION" IS 'DESCIRPCION/NOMBRE DE LA PLANTILLA';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."ES_DEFAULT" IS 'SABER QUE PLANTILLA ES LA DEFAULT';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."FE_CREACION" IS 'FECHA Y HORA DE CREACION DEL REGISTRO';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."USR_CREACION" IS 'USUARIO DE CREACION DEL REGISTRO';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."IP_CREACION" IS 'IP DE CREACION DEL REGISTRO';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_CAB"."ESTADO" IS 'INDICA EL ESTADO DEL REGISTRO';

--Creo la secuencia para la tabla
CREATE SEQUENCE "DB_COMERCIAL"."SEQ_ADMI_PLANTILLA_HORARIO_CAB" INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20;

--Creo la tabla Plantilla detalle
CREATE TABLE DB_COMERCIAL.ADMI_PLANTILLA_HORARIO_DET (
    ID_PLANTILLA_HORARIO_DET NUMBER NOT NULL ENABLE,
    PLANTILLA_HORARIO_ID     NUMBER NOT NULL ENABLE,
    HORA_INICIO              TIMESTAMP (6) NOT NULL,
    HORA_FIN                 TIMESTAMP (6) NOT NULL,
    FE_CREACION              TIMESTAMP (6) NOT NULL,
    USR_CREACION             VARCHAR2(15 BYTE) NOT NULL,
    IP_CREACION              VARCHAR2(16 BYTE) NOT NULL,
    ALMUERZO                 VARCHAR2(1 BYTE),
    CONSTRAINT ADMIN_PLANTILLA_HORARIO_DE_PK PRIMARY KEY (ID_PLANTILLA_HORARIO_DET),
    CONSTRAINT ADMIN_PLANTILLA_HORARIO_DET_FK FOREIGN KEY (PLANTILLA_HORARIO_ID)
      REFERENCES DB_COMERCIAL.ADMI_PLANTILLA_HORARIO_CAB (ID_PLANTILLA_HORARIO) ENABLE
);

COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."ID_PLANTILLA_HORARIO_DET" IS 'Id del detalle de la plantilla';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."PLANTILLA_HORARIO_ID" IS 'Id de la cabecera de la plantilla';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."HORA_INICIO" IS 'Hora de inicio';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."FE_CREACION" IS 'Fecha de creaciï¿½n del registro';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."USR_CREACION" IS 'Usuario que creo el registro';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."IP_CREACION" IS 'Ip de donde se creo el registro';
COMMENT ON COLUMN "DB_COMERCIAL"."ADMI_PLANTILLA_HORARIO_DET"."ALMUERZO" IS 'Es hora de almuerzo?';

--Creo la secuencia para la tabla
CREATE SEQUENCE  "DB_COMERCIAL"."SEQ_ADMI_PLANTILLA_HORARIO_DET"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1;

--Creo la tabla DB_COMERCIAL.INFO_CUPO_PLANIFICACION
CREATE TABLE DB_COMERCIAL.INFO_CUPO_PLANIFICACION (
    ID_CUPO_PLANIFICACION NUMBER NOT NULL,
    FE_INICIO        TIMESTAMP,
    FE_FIN           TIMESTAMP,
    SOLICITUD_ID     NUMBER,
    CUADRILLA_ID     NUMBER,
    FE_CREACION      TIMESTAMP NOT NULL,
    USR_CREACION     VARCHAR2(15) NOT NULL,
    IP_CREACION      VARCHAR2(16) NOT NULL,
    FE_MODIFICACION  TIMESTAMP,
    USR_MODIFICACION VARCHAR2(15),
    JURISDICCION_ID  NUMBER,
    CONSTRAINT INFO_CUPO_PLANIFICACION_PK PRIMARY KEY(ID_CUPO_PLANIFICACION)
);

COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.ID_CUPO_PLANIFICACION IS 'ID DE LA TABLA';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.FE_INICIO IS 'FECHA DE INICIO DE INSTALACION';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.FE_FIN IS 'FECHA DE FINALIZACION DE INSTALACION';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.SOLICITUD_ID IS 'ID DE LA SOLICITUD DE INSTALACION';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.CUADRILLA_ID IS 'ID DE LA CUADRILLA QUE SE LA ASIGNO LA INSTALACION';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.FE_CREACION IS 'FECHA DE CREACION DEL REGISTRO';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.USR_CREACION IS 'USUARIO DE CREACION DEL REGISTRO';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.IP_CREACION IS 'IP DE CREACION DEL REGISTRO';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.FE_MODIFICACION IS 'FECHA DE MODIFICACION DEL REGISTRO';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.USR_MODIFICACION IS 'USUARIO DE MODIFICACION DEL REGISTRO';
COMMENT ON COLUMN DB_COMERCIAL.INFO_CUPO_PLANIFICACION.JURISDICCION_ID IS 'ID DE LA JURISDICCION A LA QUE PERTENECE';

--Creo la secuencia
CREATE SEQUENCE  "DB_COMERCIAL"."SEQ_INFO_CUPO_PLANIFICACION"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  CYCLE ;

ALTER TABLE DB_INFRAESTRUCTURA.ADMI_JURISDICCION
ADD CUPO INTEGER;