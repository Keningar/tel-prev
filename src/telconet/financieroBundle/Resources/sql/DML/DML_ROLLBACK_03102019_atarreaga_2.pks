/**
 * @author Alex Arreaga <atarreaga@telconet.ec>
 * @version 1.0
 * @since 03-10-2019    
 * Se crea DML para reversar configuraciones de Tarjetas Banco Internacional VISA-MASTERCARD (Debito Especial).
 */
    
--SE ELIMINA DETALLE DE GRUPO DE BANCO INTERNACIONAL
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET 
WHERE GRUPO_DEBITO_ID = 
(
  SELECT ID_GRUPO_DEBITO 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)'  
)
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
)
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO BOLIVARIANO
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET 
WHERE GRUPO_DEBITO_ID = 
  (
  SELECT ID_GRUPO_DEBITO 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA 
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO 
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA 
  AND ABTC.ESTADO 	     = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO BOLIVARIANO'
  AND AB.ESTADO 	     = 'Activo'
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO GUAYAQUIL  
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET 
WHERE GRUPO_DEBITO_ID = 
  (
  SELECT ID_GRUPO_DEBITO 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA 
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID 	     = AB.ID_BANCO 
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA 
  AND ABTC.ESTADO 	         = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO GUAYAQUIL'
  AND AB.ESTADO 	           = 'Activo'
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO 	           = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO PRODUBANCO-PROMERICA 
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET
WHERE GRUPO_DEBITO_ID = 
  (
    SELECT ID_GRUPO_DEBITO 
    FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
    WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)'
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
    SELECT ABTC.ID_BANCO_TIPO_CUENTA 
    FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
      DB_GENERAL.ADMI_BANCO AB,
      DB_GENERAL.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO 
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA 
    AND AB.DESCRIPCION_BANCO   = 'BANCO PRODUBANCO-PROMERICA'
    AND AB.ESTADO 	           = 'Activo'
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND ABTC.ESTADO            = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO INTERNACIONAL
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET 
WHERE GRUPO_DEBITO_ID = 
  (
  SELECT ID_GRUPO_DEBITO 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)'
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO BOLIVARIANO
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET 
WHERE GRUPO_DEBITO_ID = 
  (
  SELECT ID_GRUPO_DEBITO 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)'
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA 
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO 
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA 
  AND ABTC.ESTADO 	         = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO BOLIVARIANO'
  AND AB.ESTADO 	           = 'Activo'
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO GUAYAQUIL
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET 
WHERE GRUPO_DEBITO_ID = 
  (
  SELECT ID_GRUPO_DEBITO 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)'
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA 
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO 
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA 
  AND ABTC.ESTADO 	         = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO GUAYAQUIL'
  AND AB.ESTADO 	           = 'Activo'
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA DETALLE DE GRUPO DE BANCO PRODUBANCO-PROMERICA 
DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET
WHERE GRUPO_DEBITO_ID = 
  (
    SELECT ID_GRUPO_DEBITO 
    FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
    WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)'
  )
AND BANCO_TIPO_CUENTA_ID = 
  (
    SELECT ABTC.ID_BANCO_TIPO_CUENTA 
    FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
      DB_GENERAL.ADMI_BANCO AB,
      DB_GENERAL.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO 
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA 
    AND AB.DESCRIPCION_BANCO   = 'BANCO PRODUBANCO-PROMERICA'
    AND AB.ESTADO 	           = 'Activo'
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND ABTC.ESTADO            = 'Activo'
  )
AND ESTADO = 'Activo';

--SE ELIMINA FORMATO DE RESPUESTA DE 'Tarjetas Visa Internacional (Debito Especial)' PROCESADOS
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_RESPUESTA 
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD    = 18
AND BUSCA_POR 	   = 'REFERENCIA|VALOR'   
AND ESTADO    	   = 'Activo'
AND TIPO_REGISTROS = 'PROCESADOS';

--SE ELIMINA FORMATO DE RESPUESTA DE 'Tarjetas Visa Internacional (Debito Especial)' RECHAZADOS
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_RESPUESTA 
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo' 
  )
AND EMPRESA_COD    = 18
AND BUSCA_POR 	   = 'REFERENCIA|VALOR'   
AND ESTADO    	   = 'Activo'
AND TIPO_REGISTROS = 'RECHAZADOS';


DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID =
  (
  SELECT ID_CARACTERISTICA 
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'PERMITE_ESPACIOS_EN_BLANCO'  
  )
AND VALOR = 'S'
AND PROCESO = 'SUBIDA'
AND ESTADO = 'Activo';

DELETE FROM DB_FINANCIERO.ADMI_NOMBRE_ARCHIVO_EMPRESA
WHERE NOMBRE_ARCHIVO_FORMATO = 'tarjetasInternacional_VISA'
AND EMPRESA_COD              = 18
AND BANCO_TIPO_CUENTA_ID     = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND FORMATO_NOMBRE = 'nombre_archivo|_|Ymd|.|extension';


--SE ELIMINA FORMATOS DE RESPUESTA DE 'Tarjeta Mastercard Internacional(DebitoEspecial)' PROCESADOS
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_RESPUESTA 
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD    = 18
AND BUSCA_POR 	   = 'REFERENCIA|VALOR'   
AND ESTADO    	   = 'Activo'
AND TIPO_REGISTROS = 'PROCESADOS';
 
--SE ELIMINA FORMATOS DE RESPUESTA DE 'Tarjeta Mastercard Internacional(DebitoEspecial)' RECHAZADOS
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_RESPUESTA 
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_GENERAL.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_GENERAL.ADMI_BANCO AB,
    DB_GENERAL.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD    = 18
AND BUSCA_POR 	   = 'REFERENCIA|VALOR'   
AND ESTADO    	   = 'Activo'
AND TIPO_REGISTROS = 'RECHAZADOS';


DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID =
  (
  SELECT ID_CARACTERISTICA 
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'PERMITE_ESPACIOS_EN_BLANCO'  
  )
AND VALOR   = 'S'
AND PROCESO = 'SUBIDA'
AND ESTADO  = 'Activo';

DELETE FROM DB_FINANCIERO.ADMI_NOMBRE_ARCHIVO_EMPRESA
WHERE NOMBRE_ARCHIVO_FORMATO = 'tarjetasInternacional_MASTERCARD'
AND EMPRESA_COD          = 18
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        =  AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND FORMATO_NOMBRE = 'nombre_archivo|_|Ymd|.|extension';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'SALTO_LINEA' - VISA
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        =  AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD       = 18 
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA 
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'SALTO_LINEA'
  )
AND VALOR   = 'SI'
AND PROCESO = 'ENVIO'
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'SALTO_LINEA' - MASTERCARD
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        =  AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD       = 18 
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA 
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'SALTO_LINEA'
  )
AND VALOR   = 'SI'
AND PROCESO = 'ENVIO'
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'POSICION LECTURA' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA
  WHERE DESCRIPCION_CARACTERISTICA = 'POSICION LECTURA'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'NUEVO_FORMATO_UNIFICADO' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'NUEVO_FORMATO_UNIFICADO'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'TOTAL VALES A PAGAR' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'TOTAL VALES A PAGAR'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'POSICION TOTAL' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'POSICION TOTAL'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'POSICION SUBTOTAL' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'POSICION SUBTOTAL'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'SUBTOTAL VALES A DEVOLVER' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'SUBTOTAL VALES A DEVOLVER'
  AND ESTADO                  	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'COD_VALES_A_PAGAR' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'COD_VALES_A_PAGAR'
  AND ESTADO                  	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'COD_VALES_A_DEVOLVER' A 'Tarjetas Visa Internacional (Debito Especial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'COD_VALES_A_DEVOLVER'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'NUMERO_TRANSACCION' A 'Tarjeta Visa Internacional (DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'NUMERO_TRANSACCION'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'INDICE_NUM_TRANSACCION' A 'Tarjeta Visa Internacional (DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'INDICE_NUM_TRANSACCION'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';


--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'POSICION LECTURA' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'POSICION LECTURA'
  AND ESTADO               	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'NUEVO_FORMATO_UNIFICADO' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'NUEVO_FORMATO_UNIFICADO'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'TOTAL VALES A PAGAR' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'TOTAL VALES A PAGAR'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'POSICION TOTAL' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'POSICION TOTAL'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'POSICION SUBTOTAL' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'POSICION SUBTOTAL'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'SUBTOTAL VALES A DEVOLVER' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'SUBTOTAL VALES A DEVOLVER'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'COD_VALES_A_PAGAR' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'COD_VALES_A_PAGAR'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'COD_VALES_A_DEVOLVER' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'COD_VALES_A_DEVOLVER'
  AND ESTADO             	         = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'NUMERO_TRANSACCION' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'NUMERO_TRANSACCION'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

--SE ELIMINA ASOCIACIÓN DE CARACTERÍSTICA 'INDICE_NUM_TRANSACCION' A 'Tarjeta Mastercard Internacional(DebitoEspecial)'
DELETE FROM DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT
WHERE BANCO_TIPO_CUENTA_ID = 
  (
  SELECT BANCO_TIPO_CUENTA_ID 
  FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
  WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)' 
  AND EMPRESA_COD    = 18 
  AND ESTADO         = 'Activo'
  )
AND EMPRESA_COD       = 18
AND CARACTERISTICA_ID = 
  (
  SELECT ID_CARACTERISTICA
  FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
  WHERE DESCRIPCION_CARACTERISTICA = 'INDICE_NUM_TRANSACCION'
  AND ESTADO             	   = 'Activo'
  AND TIPO                         = 'FINANCIERO'
  )
AND PROCESO = 'SUBIDA' 
AND ESTADO  = 'Activo';

DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
WHERE NOMBRE_GRUPO = 'Tarjetas Visa Internacional (Debito Especial)' 
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD = 18
AND ESTADO 		  = 'Activo'
AND TIPO_GRUPO 	= 'NORMAL';

DELETE FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB 
WHERE NOMBRE_GRUPO = 'Tarjeta Mastercard Internacional(DebitoEspecial)'
AND BANCO_TIPO_CUENTA_ID = 
  (
  SELECT ABTC.ID_BANCO_TIPO_CUENTA
  FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,
    DB_FINANCIERO.ADMI_BANCO AB,
    DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
  WHERE ABTC.BANCO_ID        = AB.ID_BANCO
  AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
  AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
  AND ATC.ESTADO             = 'Activo'
  AND AB.DESCRIPCION_BANCO   = 'BANCO INTERNACIONAL'
  AND AB.ESTADO              = 'Activo'
  )
AND EMPRESA_COD = 18
AND ESTADO 		  = 'Activo'
AND TIPO_GRUPO  = 'NORMAL';

--SE ELIMINAN CARACTERÍSTICAS
DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'POSICION LECTURA' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'NUEVO_FORMATO_UNIFICADO' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'TARJETA ANTERIOR' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'TOTAL VALES A PAGAR' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'SUBTOTAL VALES A DEVOLVER' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'POSICION TOTAL' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'POSICION SUBTOTAL' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'COD_VALES_A_PAGAR'
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'COD_VALES_A_DEVOLVER' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'NUEVAS TARJETAS' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'POSICION TARJ_ANTERIOR' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'POSICION TARJ_NUEVA' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'NUMERO_TRANSACCION' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

DELETE FROM DB_COMERCIAL.ADMI_CARACTERISTICA 
WHERE DESCRIPCION_CARACTERISTICA = 'INDICE_NUM_TRANSACCION' 
AND ESTADO = 'Activo' 
AND TIPO   = 'FINANCIERO';

COMMIT;
/
