/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para agregar grupo  para banco machala debito especial visa
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB (ID_GRUPO_DEBITO,NOMBRE_GRUPO,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,FE_CREACION,USR_CREACION,ESTADO,TIPO_GRUPO) 
values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_CAB.NEXTVAL,'Tarjetas Visa (Debito Especial Machala)',(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),'18',sysdate,'icromero','Activo','ESPECIAL');
    
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para agregar grupo  para banco machala debito especial mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB (ID_GRUPO_DEBITO,NOMBRE_GRUPO,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,FE_CREACION,USR_CREACION,ESTADO,TIPO_GRUPO) 
values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_CAB.NEXTVAL,'Tarjetas Mastercard (Debito Especial Machala)',(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),'18',sysdate,'icromero','Activo','ESPECIAL');
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para actualizar grupo  para banco del austro debito especial visa
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
update DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB set NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Del Austro)' where NOMBRE_GRUPO ='Tarjetas Visa otros bancos (Debito Especial)' and EMPRESA_COD='18';
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para actualizar grupo  para banco del austro debito especial mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
update DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB set NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Del Austro)' where NOMBRE_GRUPO ='Tarjetas Mastercard otros bancos (Debito Especial)' and EMPRESA_COD='18';


/**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Script para insertar formato Banco Machala para tarjetas  mastercard en la tabla parametros
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into db_general.admi_parametro_det 
(ID_PARAMETRO_DET,PARAMETRO_ID,DESCRIPCION,VALOR1,VALOR2,VALOR3,
VALOR4,ESTADO,USR_CREACION,FE_CREACION,IP_CREACION,USR_ULT_MOD,
FE_ULT_MOD,IP_ULT_MOD,VALOR5,EMPRESA_COD,VALOR6,VALOR7,OBSERVACION) values (db_general.SEQ_ADMI_PARAMETRO_DET.nextval,(select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo'),'Banco Machala',(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),(SELECT Id_Grupo_Debito FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 and estado  = 'Activo' and Nombre_Grupo  = 'Tarjetas Mastercard (Debito Especial Del Austro)'
),null,
null,'Activo','icromero',sysdate,'127.0.0.1',null,
null,null,null,'18',null,null,null);
/**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Script para insertar formato Banco Machala para tarjetas  visa en la tabla formatos
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into db_general.admi_parametro_det 
(ID_PARAMETRO_DET,PARAMETRO_ID,DESCRIPCION,VALOR1,VALOR2,VALOR3,
VALOR4,ESTADO,USR_CREACION,FE_CREACION,IP_CREACION,USR_ULT_MOD,
FE_ULT_MOD,IP_ULT_MOD,VALOR5,EMPRESA_COD,VALOR6,VALOR7,OBSERVACION) values (db_general.SEQ_ADMI_PARAMETRO_DET.nextval,(select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo'),'Banco Machala',(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),(SELECT Id_Grupo_Debito FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 and estado  = 'Activo' and Nombre_Grupo  = 'Tarjetas Visa (Debito Especial Del Austro)')
,null,
null,'Activo','icromero',sysdate,'127.0.0.1',null,
null,null,null,'18',null,null,null);

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para cabecera de formato de carga Banco Machala  tarjetas visa
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
INSERT INTO DB_FINANCIERO.ADMI_NOMBRE_ARCHIVO_EMPRESA (ID_NOMBRE_ARCHIVO_EMPRESA,NOMBRE_ARCHIVO_FORMATO,SEPARADOR_COLUMNA,TIPO_ARCHIVO_FORMATO,
CONSULTAR_POR,EMPRESA_COD,BANCO_TIPO_CUENTA_ID,USR_CREACION,FE_CREACION,USR_ULT_MOD,FE_ULT_MOD,FORMATO_NOMBRE,CABECERA_ARCHIVO,PIE_ARCHIVO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_NOMBRE_ARCHIVO_EMP.NEXTVAL,
    'MDTVISAMACHALA',
    'vacio',
    'txt',
    'Cliente',
    18,
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'icromero',
    SYSDATE,
    null,
    null,
    '03|_|nombre_archivo|_|Ymd|_|secuencial|.|extension',
    '1|0010|890897|yyyymmdd',
    '3|00000000000000|yyyymmdd|totalregistros_i_0_5|00|totalbaseimponible_i_0_10|totaliva_i_0_10|0000000000|totalvalor_i_0_10');  

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para cabecera de formato de carga Banco Machala  tarjetas mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
INSERT INTO DB_FINANCIERO.ADMI_NOMBRE_ARCHIVO_EMPRESA (ID_NOMBRE_ARCHIVO_EMPRESA,NOMBRE_ARCHIVO_FORMATO,SEPARADOR_COLUMNA,TIPO_ARCHIVO_FORMATO,
CONSULTAR_POR,EMPRESA_COD,BANCO_TIPO_CUENTA_ID,USR_CREACION,FE_CREACION,USR_ULT_MOD,FE_ULT_MOD,FORMATO_NOMBRE,CABECERA_ARCHIVO,PIE_ARCHIVO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_NOMBRE_ARCHIVO_EMP.NEXTVAL,
    'MDTMASTERCARDMACHALA',
    'vacio',
    'txt',
    'Cliente',
    18,
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'icromero',
    SYSDATE,
    null,
    null,
    '03|_|nombre_archivo|_|Ymd|_|secuencial|.|extension',
    '1|0010|890897|yyyymmdd',
    '3|00000000000000|yyyymmdd|totalregistros_i_0_5|00|totalbaseimponible_i_0_10|totaliva_i_0_10|0000000000|totalvalor_i_0_10');  
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para detalle de formato de carga Banco Machala  tarjetas visa
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Tipo de Registro
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Tipo de Registro',
    'F',
    '2',
    1,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N', null, 'N', 1, 18, 'N', null, 'DETALLE'
  );
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Número de tarjeta
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Número de tarjeta',
    'V',
    null,
    20,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Numero Cuenta / Tarjeta' AND ESTADO = 'Activo'),
    'N', 2, 18, 'N', 'rellenarconcerosizq|0|20', 'DETALLE'
  );
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Voucher
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Voucher',
    'S',
    null,
    10,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'D', 'N', null,
    'N', 3, 18, 'S', null, 'DETALLE'
  );
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Valor Consumo
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Valor Consumo',
    'V',
    null,
    12,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Base Imponible' AND ESTADO = 'Activo'),
    'N', 4, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|12', 'DETALLE'
  );

--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Iva
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Iva',
    'V',
    null,
     6,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Valor Iva' AND ESTADO = 'Activo'),
    'N', 5, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|6', 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Ice
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Ice',
    'F',
    '000000',
     6,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N', null, 'N', 6, 18, 'N', null, 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA 
--Total de la Transacción
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Total',
    'V',
    null,
    12,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Valor Total' AND ESTADO = 'Activo'),
    'N', 7, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|12', 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA
--Codigo de Proceso
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Codigo de Proceso',
    'F',
    '000',
     3,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N', null, 'N', 8, 18, 'N', null, 'DETALLE'
  );

--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA 
--Mes vencimiento
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Mes vencimiento',
    'V',
    null,
    2,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Mes vencimiento' AND ESTADO = 'Activo'),
    'N', 9, 18, 'N', null, 'DETALLE'
  );

--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA 
--Anio vencimiento
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Anio vencimiento',
    'V',
    null,
    2,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Anio vencimiento' AND ESTADO = 'Activo'),
    'N', 10, 18, 'N', null, 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA 
--Monto grava IVA
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Monto grava IVA',
    'V',
    null,
    13,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Base Imponible' AND ESTADO = 'Activo'),
    'N', 11, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|13', 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO VISA 
--Monto grava IVA
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Monto no grava IVA',
    'F',
    '0000000000000',
    13,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',null,'N', 12, 18, 'N', null, 'DETALLE'
  );
  
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para detalle de formato de carga Banco Machala  tarjetas mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Tipo de Registro
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Tipo de Registro',
    'F',
    '2',
    1,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N', null, 'N', 1, 18, 'N', null, 'DETALLE'
  );
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Número de tarjeta
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Número de tarjeta',
    'V',
    null,
    20,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Numero Cuenta / Tarjeta' AND ESTADO = 'Activo'),
    'N', 2, 18, 'N', 'rellenarconcerosizq|0|20', 'DETALLE'
  );
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Voucher
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Voucher',
    'S',
    null,
    10,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'D', 'N', null,
    'N', 3, 18, 'S', null, 'DETALLE'
  );
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Valor Consumo
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Valor Consumo',
    'V',
    null,
    12,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Base Imponible' AND ESTADO = 'Activo'),
    'N', 4, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|12', 'DETALLE'
  );

--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Iva
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Iva',
    'V',
    null,
     6,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Valor Iva' AND ESTADO = 'Activo'),
    'N', 5, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|6', 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Ice
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Ice',
    'F',
    '000000',
     6,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N', null, 'N', 6, 18, 'N', null, 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD 
--Total de la Transacción
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Total',
    'V',
    null,
    12,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Valor Total' AND ESTADO = 'Activo'),
    'N', 7, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|12', 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD
--Codigo de Proceso
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Codigo de Proceso',
    'F',
    '000',
     3,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N', null, 'N', 8, 18, 'N', null, 'DETALLE'
  );

--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD 
--Mes vencimiento
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Mes vencimiento',
    'V',
    null,
    2,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Mes vencimiento' AND ESTADO = 'Activo'),
    'N', 9, 18, 'N', null, 'DETALLE'
  );

--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD 
--Anio vencimiento
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Anio vencimiento',
    'V',
    null,
    2,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Anio vencimiento' AND ESTADO = 'Activo'),
    'N', 10, 18, 'N', null, 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD 
--Monto grava IVA
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Monto grava IVA',
    'V',
    null,
    13,
    '0',
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',
    (SELECT ID_VARIABLE_FORMATO FROM DB_FINANCIERO.ADMI_VARIABLE_FORMATO_DEBITO WHERE DESCRIPCION = 'Base Imponible' AND ESTADO = 'Activo'),
    'N', 11, 18, 'N', 'quitarPuntoRedondearYRellenarConCeros|2|0|13', 'DETALLE'
  );
  
--DETALLE TABLA DB_FINANCIERO.ADMI_FORMATO_DEBITO MASTERCARD 
--Monto grava IVA
INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO (
ID_FORMATO_DEBITO,DESCRIPCION,TIPO_CAMPO,CONTENIDO,LONGITUD,CARACTER_RELLENO,USR_CREACION,FE_CREACION,ESTADO,BANCO_TIPO_CUENTA_ID,
ORIENTACION_CARACTER_RELLENO,TIPO_DATO,VARIABLE_FORMATO_ID,REQUIERE_VALIDACION,POSICION,EMPRESA_COD,ES_REFERENCIA,OPERACION_ADICIONAL,TIPO_FORMATO
) VALUES (
    DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO.NEXTVAL,
    'Monto no grava IVA',
    'F',
    '0000000000000',
    13,
    null,
    'icromero',
    SYSDATE,
    'Activo',
    (SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),
    'I', 'N',null,'N', 12, 18, 'N', null, 'DETALLE'
  );


/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se agrega formato de respuesta para tarjetas visa banco machala APROBADOS
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */

Insert into DB_FINANCIERO.admi_formato_debito_respuesta (ID_FORMATO_DEBITO_RESPUESTA,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,
BUSCA_POR,COL_VALOR_DEBITADO,COL_DESCRIPCION_ESTADO,COL_ESTADO,COL_CUENTA,COL_IDENTIFICACION,
FILA_INICIA,TIPO_ARCHIVO,ESTADO,MENSAJE_OK,NUMERO_CUENTA_DIVIDIDA,CARACTER_DIVISION_NUMCTA,
POSICION_DIVISION_NUMCTA,FE_CREACION,USR_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_CREACION,COL_VALOR_ENVIADO,
COL_REFERENCIA,CANTIDAD_FILAS,HOJA,TIPO_REGISTROS,FORMATO_AGRUPADO) 
values (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_RESP.NEXTVAL,(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),'18','REFERENCIA|VALOR','9','999','999','4','999',1,'XLS','Activo','OK','N',null,
null,sysdate,'icromero',
null,null,'127.0.0.1','9','3',1,'1','PROCESADOS',null);
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se agrega formato de respuesta para tarjetas visa banco machala RECHAZADOS
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */

Insert into DB_FINANCIERO.admi_formato_debito_respuesta (ID_FORMATO_DEBITO_RESPUESTA,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,
BUSCA_POR,COL_VALOR_DEBITADO,COL_DESCRIPCION_ESTADO,COL_ESTADO,COL_CUENTA,COL_IDENTIFICACION,
FILA_INICIA,TIPO_ARCHIVO,ESTADO,MENSAJE_OK,NUMERO_CUENTA_DIVIDIDA,CARACTER_DIVISION_NUMCTA,
POSICION_DIVISION_NUMCTA,FE_CREACION,USR_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_CREACION,COL_VALOR_ENVIADO,
COL_REFERENCIA,CANTIDAD_FILAS,HOJA,TIPO_REGISTROS,FORMATO_AGRUPADO) 
values (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_RESP.NEXTVAL,(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),'18','REFERENCIA|VALOR','8','9','9','3','999',1,'XLS','Activo','OK','N',null,
null,sysdate,'icromero',
null,null,'127.0.0.1','8','2',1,'2','RECHAZADOS',null);
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se agrega formato de respuesta para tarjetas mastercard banco machala APROBADOS
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.admi_formato_debito_respuesta (ID_FORMATO_DEBITO_RESPUESTA,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,
BUSCA_POR,COL_VALOR_DEBITADO,COL_DESCRIPCION_ESTADO,COL_ESTADO,COL_CUENTA,COL_IDENTIFICACION,
FILA_INICIA,TIPO_ARCHIVO,ESTADO,MENSAJE_OK,NUMERO_CUENTA_DIVIDIDA,CARACTER_DIVISION_NUMCTA,
POSICION_DIVISION_NUMCTA,FE_CREACION,USR_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_CREACION,COL_VALOR_ENVIADO,
COL_REFERENCIA,CANTIDAD_FILAS,HOJA,TIPO_REGISTROS,FORMATO_AGRUPADO) 
values (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_RESP.NEXTVAL,(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),'18','REFERENCIA|VALOR','9','999','999','4','999',1,'XLS','Activo','OK','N',null,
null,sysdate,'icromero',
null,null,'127.0.0.1','9','3',1,'1','PROCESADOS',null);
/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se agrega formato de respuesta para tarjetas mastercard banco machala RECHAZADOS
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.admi_formato_debito_respuesta (ID_FORMATO_DEBITO_RESPUESTA,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,
BUSCA_POR,COL_VALOR_DEBITADO,COL_DESCRIPCION_ESTADO,COL_ESTADO,COL_CUENTA,COL_IDENTIFICACION,
FILA_INICIA,TIPO_ARCHIVO,ESTADO,MENSAJE_OK,NUMERO_CUENTA_DIVIDIDA,CARACTER_DIVISION_NUMCTA,
POSICION_DIVISION_NUMCTA,FE_CREACION,USR_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_CREACION,COL_VALOR_ENVIADO,
COL_REFERENCIA,CANTIDAD_FILAS,HOJA,TIPO_REGISTROS,FORMATO_AGRUPADO) 
values (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_RESP.NEXTVAL,(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo'),'18','REFERENCIA|VALOR','8','9','9','3','999',1,'XLS','Activo','OK','N',null,
null,sysdate,'icromero',
null,null,'127.0.0.1','8','2',1,'2','RECHAZADOS',null);



/**
 * DEBE EJECUTARSE EN DB_GENERAL
 * Script se actualizan parametros de los formatos(parametros) que toman para la funcionalidad con los comboBox de la pantalla Generar Debitos opcion Visa/Mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
--se actualiza valor3 de parametro de formatos
-- tarjeta visa formato visa se inactivo por solicitud del usuario
update  db_general.admi_parametro_det  set estado='Inactivo',USR_ULT_MOD = 'icromero',FE_ULT_MOD = sysdate
where parametro_id = (select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo') and valor1=(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'TARJETAS'
    AND AB.ESTADO              = 'Activo-debitos');
--tarjeta visa formato austro
update  db_general.admi_parametro_det  set valor3=(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Del Austro)'),USR_ULT_MOD = 'icromero',FE_ULT_MOD = sysdate
where parametro_id = (select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo') and valor1=(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO DEL AUSTRO'
    AND AB.ESTADO              = 'Activo');
--tarjeta visa formato machala
update  db_general.admi_parametro_det  set valor3=(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),USR_ULT_MOD = 'icromero',FE_ULT_MOD = sysdate
where parametro_id = (select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo') and valor1=(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA VISA'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo');
--tarjeta mastercard formato mastercard    se inactivo por solicitud del usuario
update  db_general.admi_parametro_det  set estado='Inactivo',USR_ULT_MOD = 'icromero',FE_ULT_MOD = sysdate
where parametro_id = (select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo') and valor1=(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'TARJETAS'
    AND AB.ESTADO              = 'Activo-debitos');
--tarjeta mastercard formato austro
update  db_general.admi_parametro_det  set valor3=(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Del Austro)'),USR_ULT_MOD = 'icromero',FE_ULT_MOD = sysdate
where parametro_id = (select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo') and valor1=(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO DEL AUSTRO'
    AND AB.ESTADO              = 'Activo');
--tarjeta mastercard formato machala
update  db_general.admi_parametro_det  set valor3=(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),USR_ULT_MOD = 'icromero',FE_ULT_MOD = sysdate
where parametro_id = (select id_parametro from db_general.admi_parametro_Cab where nombre_parametro='FORMATOS_DEBITOS' and estado='Activo') and valor1=(SELECT ABTC.ID_BANCO_TIPO_CUENTA
    FROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA ABTC,DB_FINANCIERO.ADMI_BANCO AB,DB_FINANCIERO.ADMI_TIPO_CUENTA ATC
    WHERE ABTC.BANCO_ID        = AB.ID_BANCO
    AND ABTC.TIPO_CUENTA_ID    = ATC.ID_TIPO_CUENTA
    AND ATC.DESCRIPCION_CUENTA = 'TARJETA MASTERCARD'
    AND ATC.ESTADO             = 'Activo'
    AND AB.DESCRIPCION_BANCO   = 'BANCO MACHALA'
    AND AB.ESTADO              = 'Activo');

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se agregan debito detalle para (formato machala) tarjeta visa,estos se cargan a elegir una opcion del comboBox Formatos de la pantalla Generar Debitos opcion Visa/Mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),320,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),251,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),255,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),257,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),259,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),261,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),263,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),265,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),267,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),269,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),271,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),273,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),276,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),280,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),300,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),292,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),294,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),296,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),298,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),302,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),304,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Visa (Debito Especial Machala)'),318,SYSDATE,'icromero','Activo');


/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se agregan debito detalle para (formato machala) tarjeta mastercard, estos se cargan a elegir una opcion del comboBox Formatos de la pantalla Generar Debitos opcion Visa/Mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 22-03-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),321,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),249,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),250,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),252,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),256,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),258,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),260,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),262,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),264,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),266,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),268,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),270,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),272,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),274,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),275,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),281,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),301,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),293,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),295,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),297,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),299,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),303,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),305,SYSDATE,'icromero','Activo');
Insert into DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_DET (ID_GRUPO_DEBITO_DET,GRUPO_DEBITO_ID,BANCO_TIPO_CUENTA_ID,FE_CREACION,USR_CREACION,ESTADO) values (DB_FINANCIERO.SEQ_ADMI_GRUPO_ARCHIVO_DEB_DET.NEXTVAL,(SELECT ID_GRUPO_DEBITO FROM DB_FINANCIERO.ADMI_GRUPO_ARCHIVO_DEBITO_CAB WHERE EMPRESA_COD = 18 AND NOMBRE_GRUPO ='Tarjetas Mastercard (Debito Especial Machala)'),319,SYSDATE,'icromero','Activo');

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se asocia la caracteristica de SALTO_LINEA formato de carga banco machala tarjeta visa
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 16-04-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT (ID_FORMATO_DEBITO_CARACT,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,CARACTERISTICA_ID,VALOR,PROCESO,ESTADO,FE_CREACION,USR_CREACION,IP_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_ULT_MOD) 
values (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_CARACT.NEXTVAL,(SELECT Id_Banco_Tipo_Cuenta fROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA where Banco_Id = (SELECT id_banco FROM DB_FINANCIERO.ADMI_BANCO where Descripcion_Banco = 'BANCO MACHALA') and Tipo_Cuenta_Id =(SELECT Id_Tipo_Cuenta fROM DB_FINANCIERO.ADMI_TIPO_CUENTA where Descripcion_Cuenta ='TARJETA VISA') ),
'18',(select Id_Caracteristica From  DB_COMERCIAL.ADMI_CARACTERISTICA where Descripcion_Caracteristica = 'SALTO_LINEA'),
'SI','ENVIO','Activo',sysdate,'icromero','127.0.0.1',sysdate,'icromero','127.0.0.1');



/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se asocia la caracteristica de SALTO_LINEA formato de carga banco machala tarjeta mastercard
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 16-04-2021 - Version Inicial.
 */
Insert into DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT (ID_FORMATO_DEBITO_CARACT,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,CARACTERISTICA_ID,VALOR,PROCESO,ESTADO,FE_CREACION,USR_CREACION,IP_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_ULT_MOD) 
values (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_CARACT.NEXTVAL,(SELECT Id_Banco_Tipo_Cuenta fROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA where Banco_Id = (SELECT id_banco FROM DB_FINANCIERO.ADMI_BANCO where Descripcion_Banco = 'BANCO MACHALA') and Tipo_Cuenta_Id =(SELECT Id_Tipo_Cuenta fROM DB_FINANCIERO.ADMI_TIPO_CUENTA where Descripcion_Cuenta ='TARJETA MASTERCARD') ),
'18',(select Id_Caracteristica From  DB_COMERCIAL.ADMI_CARACTERISTICA where Descripcion_Caracteristica = 'SALTO_LINEA'),
'SI','ENVIO','Activo',sysdate,'icromero','127.0.0.1',sysdate,'icromero','127.0.0.1');

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script se crea la caracteristica de REFERENCIA_SIN_FORMATO 
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 06-05-2021 - Version Inicial.
 */

INSERT INTO DB_COMERCIAL.ADMI_CARACTERISTICA (ID_CARACTERISTICA,DESCRIPCION_CARACTERISTICA,TIPO_INGRESO,ESTADO,FE_CREACION,USR_CREACION,FE_ULT_MOD,USR_ULT_MOD,TIPO,DETALLE_CARACTERISTICA) 
VALUES (DB_COMERCIAL.SEQ_ADMI_CARACTERISTICA.NEXTVAL,'REFERENCIA_SIN_FORMATO','T','Activo',SYSDATE,'icromero',SYSDATE,'icromero','FINANCIERO', 'en la generacionArchivosDebitos permite que la referencia se guarde sin aplicar formato');
COMMIT;

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para asignacion caracteristica REFERENCIA_SIN_FORMATO al formato Banco Machala - Mastercard - MD 
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 06-05-2021 - Version Inicial.
 */

INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT (ID_FORMATO_DEBITO_CARACT,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,CARACTERISTICA_ID,VALOR,PROCESO,ESTADO,FE_CREACION,USR_CREACION,IP_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_ULT_MOD) 
VALUES (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_CARACT.NEXTVAL,(SELECT ID_BANCO_TIPO_CUENTA fROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA WHERE BANCO_ID = (SELECT id_banco FROM DB_FINANCIERO.ADMI_BANCO WHERE DESCRIPCION_BANCO = 'BANCO MACHALA') and TIPO_CUENTA_ID =(SELECT ID_TIPO_CUENTA fROM DB_FINANCIERO.ADMI_TIPO_CUENTA WHERE DESCRIPCION_CUENTA ='TARJETA MASTERCARD') ),
'18',(select ID_CARACTERISTICA FROM  DB_COMERCIAL.ADMI_CARACTERISTICA WHERE DESCRIPCION_CARACTERISTICA = 'REFERENCIA_SIN_FORMATO'),
'SI','ENVIO','Activo',SYSDATE,'icromero','127.0.0.1',SYSDATE,'icromero','127.0.0.1');

/**
 * DEBE EJECUTARSE EN DB_FINANCIERO
 * Script para asignacion caracteristica REFERENCIA_SIN_FORMATO al formato Banco Machala - Visa - MD 
 * @author Ivan Romero <icromero@telconet.ec>
 * @version 1.0 06-05-2021 - Version Inicial.
 */

INSERT INTO DB_FINANCIERO.ADMI_FORMATO_DEBITO_CARACT (ID_FORMATO_DEBITO_CARACT,BANCO_TIPO_CUENTA_ID,EMPRESA_COD,CARACTERISTICA_ID,VALOR,PROCESO,ESTADO,FE_CREACION,USR_CREACION,IP_CREACION,FE_ULT_MOD,USR_ULT_MOD,IP_ULT_MOD) 
VALUES (DB_FINANCIERO.SEQ_ADMI_FORMATO_DEBITO_CARACT.NEXTVAL,(SELECT ID_BANCO_TIPO_CUENTA fROM DB_FINANCIERO.ADMI_BANCO_TIPO_CUENTA WHERE BANCO_ID = (SELECT id_banco FROM DB_FINANCIERO.ADMI_BANCO WHERE DESCRIPCION_BANCO = 'BANCO MACHALA') and TIPO_CUENTA_ID =(SELECT ID_TIPO_CUENTA fROM DB_FINANCIERO.ADMI_TIPO_CUENTA WHERE DESCRIPCION_CUENTA ='TARJETA VISA') ),
'18',(select ID_CARACTERISTICA FROM  DB_COMERCIAL.ADMI_CARACTERISTICA WHERE DESCRIPCION_CARACTERISTICA = 'REFERENCIA_SIN_FORMATO'),
'SI','ENVIO','Activo',SYSDATE,'icromero','127.0.0.1',SYSDATE,'icromero','127.0.0.1');

commit;
  

