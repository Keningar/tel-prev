<script>
    var url_aprobar_rechazar = "{{ path('aprobar_rechazar') }}";
</script>
<script type="text/javascript" src="{{ asset('./bundles/comercial/js/SolicitudDistribuidor/show.js?1') }}"></script>

<div class="container">
    <h5>Detalles Generales de la solicitud <i class="fa fa-info-circle"></i></h5>
    <table class="table compact" width='80%' border='0'>
        <tbody>
            <tr>
                <td><b>Razón Social:</b></td>
                <td>{{arraySolicitudDet.strCliente}} </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><b>Identificación:</b></td>
                <td>{{arraySolicitudDet.strIdentificacion}} </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><b>Vendedor:</b></td>
                <td>{{arraySolicitudDet.strVendedor}} </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><b>Estado:</b></td>
                <td>{{arraySolicitudDet.strEstado}} </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><b>Observación:</b></td>
                <td>{{arraySolicitudDet.strObservacion}} </td>
                <td></td>
                <td></td>
            </tr>
            <tr id="result_tr" style="display: none;">
                <td id="intIdSolicitudTd" >{{arraySolicitudDet.intIdSolicitud}} </td>
                <td id="strEstadoTd" >{{arraySolicitudDet.strEstado}} </td>
            </tr>
        </tbody>
    </table>
    <div class="container">
        <label for="formulario" class="col-sm-12 col-form-label">Productos seleccionados:
            <button type="button" class="btn btn-outline-info btn-sm collapsed angle-down" data-toggle="collapse" 
                    aria-expanded="false" data-target="#contenedor_producto"><i class="fa fa-angle-down"></i>
            </button>
        </label>
        <div class="bonder-titulo"></div>
        <div class="col-md-12">
            <div id="contenedor_producto" class="form-group row scrollbar">
                <table class="table table-striped table-bordered compact table-sm"id="tablaProducto">
                    <thead class="thead-light">
                        <tr>
                            <th><b>Producto</b></th>
                            <th><b>Grupo</b></th>
                            <th><b>SubGrupo</b></th>
                            <th><b>Línea de negocio</b></th>
                        </tr>
                    </thead>
                    <tbody id="tbodyProducto">
                        {% if arraySolicitudDet['arrayDetProductos'] is defined and 
                            arraySolicitudDet['arrayDetProductos'] is not empty %}
                            {% for arrayItem in arraySolicitudDet.arrayDetProductos %}
                            <tr>
                                <td>{{ arrayItem['strDescProducto'] }}</td>
                                <td>{{ arrayItem['strGrupo'] }}</td>
                                <td>{{ arrayItem['strSubGrupo'] }}</td>
                                <td>{{ arrayItem['strLineaNegocio'] }}</td>
                            </tr>
                        {% endfor %}
                        {% else %}
                        <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr>
                        {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
        <br>
    </div>
</div>
   <table width='100%' border='0'>
        <tbody>
            <tr>
                <td width="10%" rowspan="4">
                <img src="{{ asset('public/images/images_crud/agregar_64.png')}}" hspace="3" vspace="3" alt="" border="0" align="absmiddle" /></td>
                <th width="11%">Creador:</th>
                <td width="34%" >{{arraySolicitudDet.strUsrCreacion}}</td>
            </tr>
            <tr>
                <th>Fecha:</th>
                <td>{{arraySolicitudDet.strFeCreacion}}</td>
            </tr>
        </tbody>
    </table> 
<div class="modal fade" id="modalAprobarDet" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
            </div>
            <div class="modal-body">
                <h5>Para aprobar la solicitud seleccionada, llene los siguientes campos.</h5>
                <br/>
                <form>
                    <div class="form-group row">
                        <label for="observacion_aprobar_det" class="col-sm-2 col-form-label">Observación</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="observacion_aprobar_det" name="observacion_aprobar" rows="3"></textarea>
                            <div class="invalid-feedback">
                                Campo requerido.
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnAprobarDet" class="btn btn-info btn-sm" data-dismiss="modal">Aceptar</button>
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modalRechazarDet" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
            </div>
            <div class="modal-body">
                <h5>Para rechazar la solicitud seleccionada, llene los siguientes campos.</h5>
                <br/>
                <form>
                    <div class="form-group row">
                        <label for="observacion_rechazar_det" class="col-sm-2 col-form-label">Observación</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="observacion_rechazar_det" name="observacion_rechazar" rows="3"></textarea>
                            <div class="invalid-feedback">
                                Campo requerido.
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnRechazarDet" class="btn btn-info btn-sm" data-dismiss="modal">Aceptar</button>
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>