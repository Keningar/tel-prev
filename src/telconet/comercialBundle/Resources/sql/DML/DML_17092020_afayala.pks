--INSERT PRODUCTO
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO 
				SELECT DB_COMERCIAL.SEQ_ADMI_PRODUCTO.NEXTVAL,
								AP.EMPRESA_COD,
								'DIRECT',
								'DIRECTLINK MPLS',
								AP.FUNCION_COSTO,
								AP.INSTALACION,
								AP.ESTADO,
								SYSDATE,
								'afayala',
								AP.IP_CREACION,
								AP.CTA_CONTABLE_PROD,
								AP.CTA_CONTABLE_PROD_NC,
								AP.ES_PREFERENCIA,
								AP.ES_ENLACE,
								AP.REQUIERE_PLANIFICACION,
								AP.REQUIERE_INFO_TECNICA,
								'L3MPLS',
								AP.CTA_CONTABLE_DESC,
								AP.TIPO,
								AP.ES_CONCENTRADOR,
								AP.FUNCION_PRECIO,
								AP.SOPORTE_MASIVO,
								AP.ESTADO_INICIAL,
								AP.GRUPO,
								AP.COMISION_VENTA,
								AP.COMISION_MANTENIMIENTO,
								AP.USR_GERENTE,
								AP.CLASIFICACION,
								AP.REQUIERE_COMISIONAR,
								AP.SUBGRUPO,
								AP.LINEA_NEGOCIO
				FROM DB_COMERCIAL.ADMI_PRODUCTO AP 
				WHERE AP.DESCRIPCION_PRODUCTO='L3MPLS' 
								AND AP.ESTADO='Activo' 
								AND AP.NOMBRE_TECNICO='L3MPLS' AND AP.EMPRESA_COD=10;

--INSERT CARACTERISTICAS
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA
				SELECT DB_COMERCIAL.SEQ_ADMI_PRODUCTO_CARAC.NEXTVAL,
								( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO 
								  WHERE DESCRIPCION_PRODUCTO='DIRECTLINK MPLS'  AND ESTADO='Activo' ),
								APC.CARACTERISTICA_ID,
								SYSDATE,
								APC.FE_ULT_MOD,
								'afayala',
								APC.USR_ULT_MOD,
								APC.ESTADO,
								APC.VISIBLE_COMERCIAL
				FROM DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA APC 
				WHERE APC.PRODUCTO_ID=(SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
												WHERE DESCRIPCION_PRODUCTO='L3MPLS' AND ESTADO='Activo' AND NOMBRE_TECNICO='L3MPLS' AND EMPRESA_COD=10)
								AND APC.ESTADO = 'Activo'
								AND APC.CARACTERISTICA_ID != (SELECT ID_CARACTERISTICA FROM ADMI_CARACTERISTICA
												WHERE DESCRIPCION_CARACTERISTICA = 'ENLACE_DATOS');

--INSERT CARACTERISTICA RELACION_FAST_CLOUD
INSERT INTO DB_COMERCIAL.ADMI_CARACTERISTICA
(
    ID_CARACTERISTICA,
    DESCRIPCION_CARACTERISTICA,
    TIPO_INGRESO,
    FE_CREACION,
    USR_CREACION,
    TIPO,
    ESTADO
)
VALUES
(
    DB_COMERCIAL.SEQ_ADMI_CARACTERISTICA.NEXTVAL,
    'RELACION_FAST_CLOUD',
    'N',
     SYSDATE,
    'afayala',
    'TECNICO',
    'Activo'
);

--INSERT ADMI_PRODUCTO_CARACTERISTICA RELACION_FAST_CLOUD
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA VALUES
(
				DB_COMERCIAL.SEQ_ADMI_PRODUCTO_CARAC.NEXTVAL,
				(SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO WHERE DESCRIPCION_PRODUCTO = 'DIRECTLINK MPLS' AND ESTADO = 'Activo'),
				(SELECT ID_CARACTERISTICA FROM DB_COMERCIAL.ADMI_CARACTERISTICA WHERE DESCRIPCION_CARACTERISTICA = 'RELACION_FAST_CLOUD'),
				SYSDATE,
				NULL,
				'afayala',
				NULL,
				'Activo',
				'NO'
);

--INSERT NIVEL PRODUCTO
INSERT INTO DB_COMERCIAL.INFO_PRODUCTO_NIVEL
				SELECT DB_COMERCIAL.SEQ_INFO_PRODUCTO_NIVEL.NEXTVAL,
								(SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO WHERE DESCRIPCION_PRODUCTO='DIRECTLINK MPLS'  AND ESTADO='Activo'),
								IPN.EMPRESA_ROL_ID,
								IPN.PORCENTAJE_DESCUENTO,
								IPN.ESTADO
				FROM DB_COMERCIAL.INFO_PRODUCTO_NIVEL IPN
				WHERE IPN.PRODUCTO_ID=(SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
												WHERE DESCRIPCION_PRODUCTO='L3MPLS' AND ESTADO='Activo' AND NOMBRE_TECNICO='L3MPLS' AND EMPRESA_COD=10)
								AND IPN.ESTADO = 'Activo';

--INSERT IMPUESTO
INSERT INTO DB_COMERCIAL.INFO_PRODUCTO_IMPUESTO
				SELECT DB_COMERCIAL.SEQ_INFO_PRODUCTO_IMPUESTO.NEXTVAL,
								( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
									 WHERE DESCRIPCION_PRODUCTO='DIRECTLINK MPLS'  AND ESTADO='Activo' ),
								IPI.IMPUESTO_ID,
								IPI.PORCENTAJE_IMPUESTO,
								SYSDATE,
								'afayala',
								IPI.FE_ULT_MOD,
								IPI.USR_ULT_MOD,
								IPI.ESTADO
				FROM DB_COMERCIAL.INFO_PRODUCTO_IMPUESTO IPI
				WHERE IPI.PRODUCTO_ID=(SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
												WHERE DESCRIPCION_PRODUCTO='L3MPLS' AND ESTADO='Activo' AND NOMBRE_TECNICO='L3MPLS' AND EMPRESA_COD=10)
								AND IPI.ESTADO = 'Activo';

--INSERT COMISION
INSERT INTO DB_COMERCIAL.ADMI_COMISION_CAB 
				SELECT DB_COMERCIAL.SEQ_ADMI_COMISION_CAB.NEXTVAL,
								( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
									 WHERE DESCRIPCION_PRODUCTO='DIRECTLINK MPLS'  AND ESTADO='Activo' ),
								ACCA.PLAN_ID,
								SYSDATE,
								'afayala',
								ACCA.IP_CREACION,
								ACCA.ESTADO
				FROM DB_COMERCIAL.ADMI_COMISION_CAB ACCA
				WHERE PRODUCTO_ID=(SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
												WHERE DESCRIPCION_PRODUCTO='L3MPLS' AND ESTADO='Activo' AND NOMBRE_TECNICO='L3MPLS' AND EMPRESA_COD=10)
								AND ACCA.ESTADO  = 'Activo';

--INSERT DETALLES COMISION
INSERT INTO DB_COMERCIAL.ADMI_COMISION_DET
				SELECT DB_COMERCIAL.SEQ_ADMI_COMISION_DET.NEXTVAL,
								( SELECT ID_COMISION FROM DB_COMERCIAL.ADMI_COMISION_CAB AC, DB_COMERCIAL.ADMI_PRODUCTO AP
								  WHERE AP.ID_PRODUCTO=AC.PRODUCTO_ID AND
								  AP.DESCRIPCION_PRODUCTO='DIRECTLINK MPLS' AND AP.ESTADO='Activo' AND AP.EMPRESA_COD=10 ),
								ACD.PARAMETRO_DET_ID,
								ACD.COMISION_VENTA,
								SYSDATE,
								'afayala',
								ACD.IP_CREACION,
								ACD.ESTADO
				FROM DB_COMERCIAL.ADMI_COMISION_DET ACD
				WHERE ACD.COMISION_ID = (SELECT ID_COMISION FROM DB_COMERCIAL.ADMI_COMISION_CAB
								WHERE PRODUCTO_ID = (SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO 
												WHERE DESCRIPCION_PRODUCTO='L3MPLS' AND ESTADO='Activo' AND NOMBRE_TECNICO='L3MPLS' AND EMPRESA_COD=10)
								AND ESTADO='Activo');


--INSERT PRODUCTO FASTCLOUD
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO 
				SELECT DB_COMERCIAL.SEQ_ADMI_PRODUCTO.NEXTVAL,
								(
            SELECT COD_EMPRESA
            FROM DB_COMERCIAL.INFO_EMPRESA_GRUPO
            WHERE PREFIJO = 'TN'
        ),
								'FAST',
								'FastCloud',
								AP.FUNCION_COSTO,
								AP.INSTALACION,
								AP.ESTADO,
								SYSDATE,
								'afayala',
								AP.IP_CREACION,
								AP.CTA_CONTABLE_PROD,
								AP.CTA_CONTABLE_PROD_NC,
								AP.ES_PREFERENCIA,
								AP.ES_ENLACE,
								AP.REQUIERE_PLANIFICACION,
								AP.REQUIERE_INFO_TECNICA,
								AP.NOMBRE_TECNICO,
								AP.CTA_CONTABLE_DESC,
								AP.TIPO,
								AP.ES_CONCENTRADOR,
								AP.FUNCION_PRECIO,
								AP.SOPORTE_MASIVO,
								AP.ESTADO_INICIAL,
								'INTERNET Y DATOS',
								AP.COMISION_VENTA,
								AP.COMISION_MANTENIMIENTO,
								AP.USR_GERENTE,
								AP.CLASIFICACION,
								AP.REQUIERE_COMISIONAR,
								AP.SUBGRUPO,
								AP.LINEA_NEGOCIO
				FROM DB_COMERCIAL.ADMI_PRODUCTO AP 
				WHERE AP.DESCRIPCION_PRODUCTO='CLOUD IAAS ADITIONAL'
								AND AP.ESTADO='Activo' AND AP.NOMBRE_TECNICO='OTROS';

--INSERT CARACTERISTICA 'NUBE PUBLICA'
INSERT INTO DB_COMERCIAL.ADMI_CARACTERISTICA
(
    ID_CARACTERISTICA,
    DESCRIPCION_CARACTERISTICA,
    TIPO_INGRESO,
    FE_CREACION,
    USR_CREACION,
    TIPO,
    ESTADO
)
VALUES
(
    DB_COMERCIAL.SEQ_ADMI_CARACTERISTICA.NEXTVAL,
    'NUBE PUBLICA',
    'T',
     SYSDATE,
    'afayala',
    'TECNICO',
    'Activo'
);

--INSERT CARACTERISTICA 'IP EQUINIX'
INSERT INTO DB_COMERCIAL.ADMI_CARACTERISTICA
(
    ID_CARACTERISTICA,
    DESCRIPCION_CARACTERISTICA,
    TIPO_INGRESO,
    FE_CREACION,
    USR_CREACION,
    TIPO,
    ESTADO
)
VALUES
(
    DB_COMERCIAL.SEQ_ADMI_CARACTERISTICA.NEXTVAL,
    'IP EQUINIX',
    'T',
     SYSDATE,
    'afayala',
    'TECNICO',
    'Activo'
);

--INSERT CARACTERISTICA 'IP ROUTER NAP'
INSERT INTO DB_COMERCIAL.ADMI_CARACTERISTICA
(
    ID_CARACTERISTICA,
    DESCRIPCION_CARACTERISTICA,
    TIPO_INGRESO,
    FE_CREACION,
    USR_CREACION,
    TIPO,
    ESTADO
)
VALUES
(
    DB_COMERCIAL.SEQ_ADMI_CARACTERISTICA.NEXTVAL,
    'IP ROUTER NAP',
    'T',
     SYSDATE,
    'afayala',
    'TECNICO',
    'Activo'
);

--INSERT CARACTERISTICA 'REDES LAN'
INSERT INTO DB_COMERCIAL.ADMI_CARACTERISTICA
(
    ID_CARACTERISTICA,
    DESCRIPCION_CARACTERISTICA,
    TIPO_INGRESO,
    FE_CREACION,
    USR_CREACION,
    TIPO,
    ESTADO
)
VALUES
(
    DB_COMERCIAL.SEQ_ADMI_CARACTERISTICA.NEXTVAL,
    'REDES LAN',
    'T',
     SYSDATE,
    'afayala',
    'TECNICO',
    'Activo'
);

--INSERT ADMI_PRODUCTO_CARACTERISTICA 'NUBE PUBLICA'
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA VALUES
(
				DB_COMERCIAL.SEQ_ADMI_PRODUCTO_CARAC.NEXTVAL,
				( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
					 WHERE DESCRIPCION_PRODUCTO = 'FastCloud' AND ESTADO = 'Activo' ),
				( SELECT ID_CARACTERISTICA FROM DB_COMERCIAL.ADMI_CARACTERISTICA
					 WHERE DESCRIPCION_CARACTERISTICA = 'NUBE PUBLICA' AND ESTADO = 'Activo' ),
				SYSDATE,
				NULL,
				'afayala',
				NULL,
				'Activo',
				'NO'
);

--INSERT ADMI_PRODUCTO_CARACTERISTICA 'IP EQUINIX'
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA VALUES
(
				DB_COMERCIAL.SEQ_ADMI_PRODUCTO_CARAC.NEXTVAL,
				( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
					 WHERE DESCRIPCION_PRODUCTO = 'FastCloud' AND ESTADO = 'Activo' ),
				( SELECT ID_CARACTERISTICA FROM DB_COMERCIAL.ADMI_CARACTERISTICA
					 WHERE DESCRIPCION_CARACTERISTICA = 'IP EQUINIX' AND ESTADO = 'Activo' ),
				SYSDATE,
				NULL,
				'afayala',
				NULL,
				'Activo',
				'NO'
);

--INSERT ADMI_PRODUCTO_CARACTERISTICA 'IP ROUTER NAP'
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA VALUES
(
				DB_COMERCIAL.SEQ_ADMI_PRODUCTO_CARAC.NEXTVAL,
				( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
					 WHERE DESCRIPCION_PRODUCTO = 'FastCloud' AND ESTADO = 'Activo' ),
				( SELECT ID_CARACTERISTICA FROM DB_COMERCIAL.ADMI_CARACTERISTICA
					 WHERE DESCRIPCION_CARACTERISTICA = 'IP ROUTER NAP' AND ESTADO = 'Activo' ),
				SYSDATE,
				NULL,
				'afayala',
				NULL,
				'Activo',
				'NO'
);

--INSERT ADMI_PRODUCTO_CARACTERISTICA 'REDES LAN'
INSERT INTO DB_COMERCIAL.ADMI_PRODUCTO_CARACTERISTICA VALUES
(
				DB_COMERCIAL.SEQ_ADMI_PRODUCTO_CARAC.NEXTVAL,
				( SELECT ID_PRODUCTO FROM DB_COMERCIAL.ADMI_PRODUCTO
					 WHERE DESCRIPCION_PRODUCTO = 'FastCloud' AND ESTADO = 'Activo' ),
				( SELECT ID_CARACTERISTICA FROM DB_COMERCIAL.ADMI_CARACTERISTICA
					 WHERE DESCRIPCION_CARACTERISTICA = 'REDES LAN' AND ESTADO = 'Activo' ),
				SYSDATE,
				NULL,
				'afayala',
				NULL,
				'Activo',
				'NO'
);


COMMIT;
/
